package com.example.nojumpstarts;

import androidx.appcompat.app.AppCompatActivity;

import android.content.ComponentName;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;

public class MainActivity extends AppCompatActivity {

    private static String msg = "Main-to-A/A-to-B/B-to-C";


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);


        Intent i = new Intent();
        i.setComponent(new ComponentName("com.mobisec.nojumpstarts", "com.mobisec.nojumpstarts.C" ));
        i.putExtra("authmsg", msg);
        try {
            i.putExtra("authsign", Main.sign(msg));
        } catch (Exception e) {
            Log.w("MOBISEC", Log.getStackTraceString(e));
        }
        startActivityForResult(i, 9);
    }


    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        Log.i("MOBISEC", data.getStringExtra("flag"));
    }
}